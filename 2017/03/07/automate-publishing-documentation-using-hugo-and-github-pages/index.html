<!doctype html><html lang=en><meta charset=utf-8><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/blog.casavian.eu\/"},"articleSection":"post","name":"Automate publishing documentation using Hugo and GitHub pages","headline":"Automate publishing documentation using Hugo and GitHub pages","description":"Notes and considerations of small venetian guy on DevOps tools, architecture, development and other paraphernalia.","inLanguage":"en","author":"Giulio Vian","creator":"Giulio Vian","publisher":"Giulio Vian","accountablePerson":"Giulio Vian","copyrightHolder":"Giulio Vian","copyrightYear":"2017","datePublished":"2017-03-07T00:00:00Z","dateModified":"2017-03-07T00:00:00Z","url":"\/2017\/03\/07\/automate-publishing-documentation-using-hugo-and-github-pages\/","wordCount":"833","keywords":["ALM","DevOps","Hugo","GitHub","GitHub Pages","TFS Aggregator","VSTS","Blog"]}</script><title>Automate publishing documentation using Hugo and GitHub pages &ndash; Giulio Vian's Blog!</title><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=description content="Notes and considerations of small venetian guy on DevOps tools, architecture, development and other paraphernalia."><meta name=author content="Giulio Vian"><link rel=icon href=/favicon.ico><meta itemprop=name content="Automate publishing documentation using Hugo and GitHub pages"><meta itemprop=description content="Many of you knows my work on TFS Aggregator &nbsp; . Since the beginning we opted for Markdown &nbsp;  as the format for the project documentation, at the beginning they were some files in a doc folder, then I moved the content to the project&rsquo;s GitHub Wiki, today I use the same files to generate the GitHub pages at https://tfsaggregator.github.io/intro/.
In this post I will describe how this latter step works in detail to publish our open source project&rsquo;s documentation."><meta itemprop=datePublished content="2017-03-07T00:00:00+00:00"><meta itemprop=dateModified content="2017-03-07T00:00:00+00:00"><meta itemprop=wordCount content="833"><meta itemprop=image content="http://blog.casavian.eu/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/cover-hugo-s.png"><meta itemprop=keywords content="ALM,DevOps,Hugo,GitHub,GitHub Pages,TFS Aggregator,VSTS,"><meta property="og:title" content="Automate publishing documentation using Hugo and GitHub pages"><meta property="og:description" content="Many of you knows my work on TFS Aggregator &nbsp; . Since the beginning we opted for Markdown &nbsp;  as the format for the project documentation, at the beginning they were some files in a doc folder, then I moved the content to the project&rsquo;s GitHub Wiki, today I use the same files to generate the GitHub pages at https://tfsaggregator.github.io/intro/.
In this post I will describe how this latter step works in detail to publish our open source project&rsquo;s documentation."><meta property="og:type" content="article"><meta property="og:url" content="http://blog.casavian.eu/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/"><meta property="og:image" content="http://blog.casavian.eu/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/cover-hugo-s.png"><meta property="article:published_time" content="2017-03-07T00:00:00+00:00"><meta property="article:modified_time" content="2017-03-07T00:00:00+00:00"><meta property="og:site_name" content="Giulio Vian's Blog!"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://blog.casavian.eu/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/cover-hugo-s.png"><meta name=twitter:title content="Automate publishing documentation using Hugo and GitHub pages"><meta name=twitter:description content="Many of you knows my work on TFS Aggregator &nbsp; . Since the beginning we opted for Markdown &nbsp;  as the format for the project documentation, at the beginning they were some files in a doc folder, then I moved the content to the project&rsquo;s GitHub Wiki, today I use the same files to generate the GitHub pages at https://tfsaggregator.github.io/intro/.
In this post I will describe how this latter step works in detail to publish our open source project&rsquo;s documentation."><meta name=twitter:site content="@giulio_vian"><link rel=alternate href=/index.xml type=application/rss+xml title="Giulio Vian's Blog!"><link rel=stylesheet href=/css/vendor.min.95b0b4c4607aec507f0fc9d9c36a12a4613ccac06f9423caa43e265cb58eb5f90709388cc0fa166ac3ca836b4163e6d0569b8b86065d9cabdf223c5ea9a63b08.css integrity="sha512-lbC0xGB67FB/D8nZw2oSpGE8ysBvlCPKpD4mXLWOtfkHCTiMwPoWasPKg2tBY+bQVpuLhgZdnKvfIjxeqaY7CA=="><link href=http://blog.casavian.eu/css/cookieconsent.min.cd0d0b6e50ff01ff2f3a9a70d7cfb66a7c6cb9acf7a566325568be6d3bd31fc4.css rel=stylesheet type=text/css integrity="sha256-zQ0LblD/Af8vOppw18+2anxsuaz3pWYyVWi+bTvTH8Q=" crossorigin=anonymous><script src=http://blog.casavian.eu/js/cookieconsent.min.e55842a856a6d829feca3c3ad736c136b6c7549e9247274f78aa296259e06e24.js integrity="sha256-5VhCqFam2Cn+yjw61zbBNrbHVJ6SRydPeKopYlngbiQ=" crossorigin=anonymous async></script><script>window.addEventListener("load",function(){window.cookieconsent.initialise({"palette":{"popup":{"background":"#428bca","text":"#ffffff"},"button":{"background":"#f71559"}},"content":{"message":'This website uses cookies.',"dismiss":'Got it!',"link":'Learn more.',"href":"http:\/\/blog.casavian.eu\/page\/privacy-cookies-policy\/"},"position":"bottom-right"})});</script><body><nav class="navbar navbar-light bg-white navbar-expand-lg border-bottom"><div class=container><a class="navbar-brand text-primary" href=/>Giulio Vian's Blog!</a>
<button class="navbar-toggler collapsed" type=button data-toggle=collapse data-target=#navbarCollapse aria-controls=navbarCollapse aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="navbar-collapse collapse" id=navbarCollapse><ul class="navbar-nav mr-auto"><li class=nav-item><a class="nav-link text-primary" href=/index.html><i class="fas fa-home"></i>Home</a></li><li class=nav-item><a class="nav-link text-primary" href=/page/about/><i class="fa fa-info-circle"></i>About</a></li><li class=nav-item><a class="nav-link text-primary" href=/page/public-speaking><i class="fa fa-microphone"></i>Speaking</a></li><li class=nav-item><a class="nav-link text-primary" href=/it><i class="fa fa-language"></i>Italian</a></li></ul></div></div></nav><main role=main><div class="container mt-3 mb-3"><div class=card><img class=card-img-top src=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/cover-hugo-s_hu746fd668a2530980daf0df2d32ef94ee_16114_1108x0_resize_box_2.png alt="Automate publishing documentation using Hugo and GitHub pages" title="Automate publishing documentation using Hugo and GitHub pages"><div class=card-body><h1 class=card-title><a href=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/>Automate publishing documentation using Hugo and GitHub pages</a></h1><h6 class="card-subtitle mb-2 text-muted"><i class="fas fa-calendar-day"></i>&nbsp;07 Mar 2017 -
<i class="fas fa-user"></i>&nbsp;Giulio Vian
- <i class="fas fa-clock"></i>&nbsp;~4 Minutes</h6><p class=card-text><p>Many of you knows my work on <a href=https://tfsaggregator.github.io/ target=_blank rel="noopener noreferrer">TFS Aggregator
&nbsp;<i class="fas fa-external-link-alt"></i>
</a>.
Since the beginning we opted for <a href=https://daringfireball.net/projects/markdown/ target=_blank rel="noopener noreferrer">Markdown
&nbsp;<i class="fas fa-external-link-alt"></i></a> as the format for the project documentation, at the beginning they were some files in a <code>doc</code> folder, then I moved the content to the project&rsquo;s GitHub Wiki, today I use the same files to generate the GitHub pages at <a href=https://tfsaggregator.github.io/intro/>https://tfsaggregator.github.io/intro/</a>.</p><p>In this post I will describe how this latter step works in detail to publish our open source project&rsquo;s documentation.</p><h2 id=elements>Elements</h2><p>Let&rsquo;s describe the scenario elements.</p><p>The documentation authors updates the content a <a href=https://github.com/tfsaggregator/tfsaggregator-docs-hugo target=_blank rel="noopener noreferrer">source repository in GitHub
&nbsp;<i class="fab fa-github"></i>
</a>. This content is processed using the delicious <a href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo
&nbsp;<i class="fas fa-external-link-alt"></i></a> static generator to produce the web site, images, styles and all. The web site is hosted in <a href=https://help.github.com/articles/what-is-github-pages/ target=_blank rel="noopener noreferrer">GitHub Pages
&nbsp;<i class="fas fa-external-link-alt"></i>
</a>; publication is controlled via the homonymous repository <a href=https://github.com/tfsaggregator/tfsaggregator.github.io target=_blank rel="noopener noreferrer">tfsaggregator.github.io
&nbsp;<i class="fab fa-github"></i>
</a>.</p><p>I decided to use <a href=https://www.visualstudio.com/team-services/ target=_blank rel="noopener noreferrer">Visual Studio Team Services (VSTS)
&nbsp;<i class="fas fa-external-link-alt"></i></a> Build feature to setup Continuous Integration so that any change in the source repository regenerates and republishes the GitHub Pages site.</p><p>Hugo documentation has a recipe to <a href=https://gohugo.io/overview/quickstart#step-12-deploy-bookshelf-on-github-pages target=_blank rel="noopener noreferrer">publish on GitHub Pages
&nbsp;<i class="fas fa-external-link-alt"></i>
</a>, so the task appeared feasible.</p><h2 id=build-definition>Build Definition</h2><p>The build process is made of six steps.</p><p><figure class=image-caption><a href=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/05-build-steps.png><img loading=lazy height=600 width=321 style=max-width:100%;height:auto srcset="/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/05-build-steps.png 500w," src=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/05-build-steps.png alt="Build Steps"></a><figcaption><em>Fig. 1 &ndash; Build Steps</em></figcaption></figure></p><p>We will examine them one by one soon.</p><div class="panel panel-info"><div class=panel-heading><h3 class=panel-title>Note</h3></div><div class=panel-body>The screenshots show the old Build Editor that will be soon replaced.</div></div><p>The first requirement is the connection to GitHub, a <em>Service Endpoint</em> in VSTS terms.</p><p><figure class=image-caption><a href=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/12-service-endpoint.png><img loading=lazy height=421 width=736 style=max-width:100%;height:auto srcset="/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/12-service-endpoint_hufba14d59ae163d8009ee3117f58d37a7_24229_500x0_resize_box_2.png 500w, /2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/12-service-endpoint.png 800w," src=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/12-service-endpoint.png alt="GitHub Service Endpoint"></a><figcaption><em>Fig. 2 &ndash; GitHub Service Endpoint</em></figcaption></figure></p><p>The source control definition</p><p><figure class=image-caption><a href=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/10-repo.png><img loading=lazy height=449 width=676 style=max-width:100%;height:auto srcset="/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/10-repo_hu7b3b7539cde5ee50b61e9b771495b13d_35629_500x0_resize_box_2.png 500w, /2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/10-repo.png 800w," src=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/10-repo.png alt="Git Repo definition"></a><figcaption><em>Fig. 3 &ndash; Git Repository definition in Azure Pipelines</em></figcaption></figure></p><p>has the <em>Checkout submodules</em> option set.
This is critical because I defined the repository <code>tfsaggregator.github.io</code> as a sub-module of the main <code>tfsaggregator-docs-hugo</code> repository.
Also the <em>Clean</em> option guarantees that there cannot be leftovers if the agent is reused by subsequent builds.</p><p>Last notable thing, the build triggers only when the <strong>master</strong> branch changes.
This allows the team to share and locally test changes in an isolated branch.</p><p><figure class=image-caption><a href=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/20-trigger.png><img loading=lazy height=462 width=530 style=max-width:100%;height:auto srcset="/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/20-trigger_hu23be0690d19bcc131bb9698bb99fdf6f_28238_500x0_resize_box_2.png 500w, /2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/20-trigger.png 800w," src=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/20-trigger.png alt="CI Trigger"></a><figcaption><em>Fig. 4 &ndash; Build Trigger</em></figcaption></figure></p><h2 id=build-steps>Build Steps</h2><p>The first step guarantees that the Git sub-module in the <code>public</code> directory, i.e. the <code>tfsaggregator.github.io</code> repository, uses the master branch.</p><p><figure class=image-caption><a href=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-1-switch-branch.png><img loading=lazy height=439 width=1051 style=max-width:100%;height:auto srcset="/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-1-switch-branch_hu08694dabb62779db13d4d0561d51f4b1_34366_500x0_resize_box_2.png 500w, /2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-1-switch-branch_hu08694dabb62779db13d4d0561d51f4b1_34366_800x0_resize_box_2.png 800w, /2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-1-switch-branch.png 1200w," src=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-1-switch-branch.png alt="Step 1 – Switch branch"></a><figcaption><em>Fig. 5 &ndash; Switch branch</em></figcaption></figure></p><p>Then the build downloads a fresh copy of the Hugo executable.</p><p><figure class=image-caption><a href=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-2-get-hugo.png><img loading=lazy height=568 width=1051 style=max-width:100%;height:auto srcset="/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-2-get-hugo_hua4204fe392f13987d9a809762997fac5_48954_500x0_resize_box_2.png 500w, /2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-2-get-hugo_hua4204fe392f13987d9a809762997fac5_48954_800x0_resize_box_2.png 800w, /2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-2-get-hugo.png 1200w," src=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-2-get-hugo.png alt="Step 2 – Download Hugo exe"></a><figcaption><em>Fig. 6 &ndash; Download Hugo executable</em></figcaption></figure></p><p>Few lines of Powershell is all we need: <code>Invoke-WebRequest</code> to download the zip file and <code>ZipFile.ExtractToDirectory</code> method to unpack it.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Powershell data-lang=Powershell>$hugoZip = <span style=color:#e6db74>&#34;$env:TEMP\hugo.zip&#34;</span>
$hugoBinFolder = <span style=color:#e6db74>&#34;$env:TEMP\hugo-bin&#34;</span>
Invoke-WebRequest -Uri $env:HugoURL -OutFile $hugoZip
<span style=color:#66d9ef>[System.Reflection.Assembly]</span>::LoadWithPartialName(<span style=color:#e6db74>&#39;System.IO.Compression.FileSystem&#39;</span>) | Out-Null
<span style=color:#66d9ef>[System.IO.Compression.ZipFile]</span>::ExtractToDirectory($hugoZip, $hugoBinFolder)
</code></pre></div><p>This is required as Hugo is not installed on the Hosted build agent; in alternative you use a custom agent with pre-installed software.
Yet another alternative is to use the technique I described in <a href=http://blog.casavian.eu/2017/03/04/mixing-tfvc-and-git/>Mixing TFVC and Git
</a>.</p><p>Before using Hugo to generate the site, we need another piece, <a href=https://www.npmjs.com/package/hugo-lunr target=_blank rel="noopener noreferrer">hugo-lunr
&nbsp;<i class="fas fa-external-link-alt"></i>
</a>, to produce the search index file.</p><p><figure class=image-caption><a href=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-3-npm-install.png><img loading=lazy height=370 width=1051 style=max-width:100%;height:auto srcset="/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-3-npm-install_hud7a999a585fd20e540400c436a335ebd_29897_500x0_resize_box_2.png 500w, /2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-3-npm-install_hud7a999a585fd20e540400c436a335ebd_29897_800x0_resize_box_2.png 800w, /2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-3-npm-install.png 1200w," src=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-3-npm-install.png alt="Step 3 – Get hugo-lunr"></a><figcaption><em>Fig. 7 &ndash; Download Hugo lunr</em></figcaption></figure></p><p><a href=https://www.npmjs.com/package/hugo-lunr target=_blank rel="noopener noreferrer">hugo-lunr
&nbsp;<i class="fas fa-external-link-alt"></i></a> is a NodeJS tool to</p><blockquote><p>Generate lunr.js index files for Hugo static site search</p></blockquote><p>The search feature in the documentation site requires these index files to lookup words&rsquo; positions.
NodeJS is pre-installed on VSTS Hosted build agent but <a href=https://www.npmjs.com/package/hugo-lunr target=_blank rel="noopener noreferrer">hugo-lunr
&nbsp;<i class="fas fa-external-link-alt"></i></a> is not.
After the NodeJS library is downloaded, the build runs it</p><p><figure class=image-caption><a href=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-4-npm-run.png><img loading=lazy height=368 width=1051 style=max-width:100%;height:auto srcset="/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-4-npm-run_hu266d3e5e4e5f83f9f7deab10911bdae6_29832_500x0_resize_box_2.png 500w, /2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-4-npm-run_hu266d3e5e4e5f83f9f7deab10911bdae6_29832_800x0_resize_box_2.png 800w, /2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-4-npm-run.png 1200w," src=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-4-npm-run.png alt="Step 4 – Generate Index"></a><figcaption><em>Fig. 8 &ndash; Generate lunr Index</em></figcaption></figure></p><p>to generate the index.
The step is deceptively simple as it is based on <code>package.json</code> that specify the name of the generated file and the type of files to parse.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json>{
    <span style=color:#f92672>&#34;scripts&#34;</span>: {
        <span style=color:#f92672>&#34;index&#34;</span>: <span style=color:#e6db74>&#34;lunr-hugo -i \&#34;content/**/*.md\&#34; -o static/json/search.json -l yaml&#34;</span>
    }
}
</code></pre></div><p>Finally we get at the core step, site generation using Hugo.</p><p><figure class=image-caption><a href=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-5-hugo.png><img loading=lazy height=370 width=1051 style=max-width:100%;height:auto srcset="/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-5-hugo_huaee595df3d4dddd5fc1b5ac3b88886a6_31907_500x0_resize_box_2.png 500w, /2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-5-hugo_huaee595df3d4dddd5fc1b5ac3b88886a6_31907_800x0_resize_box_2.png 800w, /2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-5-hugo.png 1200w," src=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-5-hugo.png alt="Step 5 – Run Hugo"></a><figcaption><em>Fig. 9 &ndash; Run Hugo</em></figcaption></figure></p><p>At this point only the local repository has changed, i.e. the clone of <code>tfsaggregator.github.io</code> present in the Hosted agent.
The last step is to push <code>tfsaggregator.github.io</code> changes to GitHub.</p><p><figure class=image-caption><a href=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-6-push-to-GH.png><img loading=lazy height=564 width=1051 style=max-width:100%;height:auto srcset="/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-6-push-to-GH_hu2e39344641fc76c3d237c53294cdce1f_53534_500x0_resize_box_2.png 500w, /2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-6-push-to-GH_hu2e39344641fc76c3d237c53294cdce1f_53534_800x0_resize_box_2.png 800w, /2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-6-push-to-GH.png 1200w," src=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/30-6-push-to-GH.png alt="Step 6 – Publish to GitHub Pages"></a><figcaption><em>Fig. 10 &ndash; Publish to GitHub Pages</em></figcaption></figure></p><p>This seems complex, but basically are three git commands: <code>add</code> and <code>commit</code> followed by <code>push</code>.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-Powershell data-lang=Powershell><span style=color:#66d9ef>param</span>( $GitHubUser, $GitHubToken )
cd public
Write-Host <span style=color:#e6db74>&#34;git add -A&#34;</span>
git add -A
Write-Host <span style=color:#e6db74>&#34;git commit&#34;</span>
git commit -m <span style=color:#e6db74>&#34;Site rebuilt by build #$env:BUILD_BUILDNUMBER&#34;</span>
Write-Host <span style=color:#e6db74>&#34;git push&#34;</span>
$b =<span style=color:#66d9ef>[Convert]</span>::ToBase64String(<span style=color:#66d9ef>[Text.Encoding]</span>::ASCII.GetBytes((<span style=color:#e6db74>&#34;{0}:{1}&#34;</span> <span style=color:#f92672>-f</span> $GitHubUser,$GitHubToken)))
git -c http.extraheader=<span style=color:#e6db74>&#34;AUTHORIZATION: basic $b&#34;</span> push origin master
cd ..
</code></pre></div><p>There are two interesting items here.
The commit message records the build identifier so it will be easier to trace the history.</p><p>The second notable thing is the use of <code>http.extraheader</code> to pass authentication data to git.
I asked GitHub for a <a href=https://help.github.com/articles/creating-a-personal-access-token-for-the-command-line/ target=_blank rel="noopener noreferrer">Personal Access Token
&nbsp;<i class="fas fa-external-link-alt"></i></a> and saved in the Build Variables.</p><p><figure class=image-caption><a href=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/40-vars.png><img loading=lazy height=502 width=911 style=max-width:100%;height:auto srcset="/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/40-vars_hu31ebbbf6acd62f39886be6b340175b2f_48786_500x0_resize_box_2.png 500w, /2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/40-vars_hu31ebbbf6acd62f39886be6b340175b2f_48786_800x0_resize_box_2.png 800w, /2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/40-vars.png 1200w," src=/2017/03/07/automate-publishing-documentation-using-hugo-and-github-pages/40-vars.png alt="Build Variables"></a><figcaption></figcaption></figure></p><p><a href=https://www.visualstudio.com/en-us/docs/build/scripts/index#oauth target=_blank rel="noopener noreferrer"><code>SYSTEM_ACCESSTOKEN</code>
&nbsp;<i class="fas fa-external-link-alt"></i></a> is of no use here as it allows access to VSTS while we need access to GitHub.</p><p>A more elegant solution would be using a custom Build Task that wraps the <code>git push</code> command and access the existing Service Endpoint connection data.
Using Basic Authentication is safe because the GitHub remote uses HTTPS.</p><h2 id=final-comments>Final comments</h2><p>I am great fan of static web sites: they consume minimal resources, are easily cached, the best performances, no worry for security breaches, and <a href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo
&nbsp;<i class="fas fa-external-link-alt"></i></a> is the best amongst the tools I tried, recommended.</p><p>Hope you found this interesting!</p></p></div><div class=card-footer><small class=text-muted><i class="fas fa-folder text-primary"></i>&nbsp;
<a href=/categories/#alm class="badge badge-primary"><span>ALM</span></a>
<a href=/categories/#devops class="badge badge-primary"><span>DevOps</span></a><br><i class="fas fa-tags text-secondary"></i>&nbsp;
<a href=/tags/#alm class="badge badge-secondary"><span>ALM</span></a>
<a href=/tags/#devops class="badge badge-secondary"><span>DevOps</span></a>
<a href=/tags/#hugo class="badge badge-secondary"><span>Hugo</span></a>
<a href=/tags/#github class="badge badge-secondary"><span>GitHub</span></a>
<a href=/tags/#github-pages class="badge badge-secondary"><span>GitHub Pages</span></a>
<a href=/tags/#tfs-aggregator class="badge badge-secondary"><span>TFS Aggregator</span></a>
<a href=/tags/#vsts class="badge badge-secondary"><span>VSTS</span></a></small></div></div><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"blog-casavian"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></main><footer class="navbar-light border-top"><div class=container><div class=row><div class="col-12 col-md-3 mb-3"><h5>Giulio Vian's Blog!</h5>Notes and considerations of small venetian guy on DevOps tools, architecture, development and other paraphernalia.</div><div class="col-12 col-md-3 mb-3"><h5>Social</h5><ul class="list-unstyled list-inline"><li class=list-inline-item><a href=https://github.com/giuliov target=_blank rel="noopener noreferrer" title=GitHub class="fab fa-github fa-2x"></a></li><li class=list-inline-item><a href=https://stackoverflow.com/users/100864 target=_blank rel="noopener noreferrer" title="Stack Overflow" class="fab fa-stack-overflow fa-2x"></a></li><li class=list-inline-item><a href=https://medium.com/@giuliovdev target=_blank rel="noopener noreferrer" title=Medium class="fab fa-medium fa-2x"></a></li><li class=list-inline-item><a href=https://linkedin.com/in/giuliovian target=_blank rel="noopener noreferrer" title=LinkedIn class="fab fa-linkedin fa-2x"></a></li><li class=list-inline-item><a href=https://linkedin.com/company/unum-ireland-ltd-it target=_blank rel="noopener noreferrer" title="LinkedIn Company" class="fab fa-linkedin fa-2x"></a></li><li class=list-inline-item><a href=https://xing.com/profile/Giulio_Vian target=_blank rel="noopener noreferrer" title=Xing class="fab fa-xing fa-2x"></a></li><li class=list-inline-item><a href=https://slideshare.net/giuliov target=_blank rel="noopener noreferrer" title=SlideShare class="fab fa-slideshare fa-2x"></a></li><li class=list-inline-item><a href=https://youtube.com/UCZ-J6JRyvz6aaJ9zCN5wpxA target=_blank rel="noopener noreferrer" title=YouTube class="fab fa-youtube fa-2x"></a></li><li class=list-inline-item><a href=https://twitter.com/giulio_vian target=_blank rel="noopener noreferrer" title=Twitter class="fab fa-twitter fa-2x"></a></li><li class=list-inline-item><a href=mailto:giulio.dev@casavian.eu title=Email class="fas fa-envelope fa-2x"></a></li></ul></div><div class="col-12 col-md-3 mb-3"><h5>Site</h5><ul class=list-unstyled><li><a href=/about/><i class="fas fa-address-card"></i>About</a></li><li><a href=/categories/><i class="fas fa-folder"></i>Categories</a></li><li><a href=/series/><i class="fas fa-book"></i>Series</a></li><li><a href=/tags/><i class="fas fa-tags"></i>Tags</a></li><li><a href=http://www.getlatestversion.eu/>Get Latest Version</a></li><li><a href=https://blogs.msdn.microsoft.com/giuliov/>Old blog</a></li></ul></div><div class="col-12 col-md-3 mb-3">&copy; 2020 Giulio Vian<br>Theme by <a href=https://www.spech.de target=_blank rel="noopener noreferrer">Sebastian Pech</a>.</div></div></div></footer><script src=/js/vendor.min.0497fa926ed3dc2241b91e016467480841da9749a0f7c40ed3960c3c238745e5accb5ec5e07654668e11047bbf96f95083b88dd49a845781011aba42e4f00a5d.js integrity="sha512-BJf6km7T3CJBuR4BZGdICEHal0mg98QO05YMPCOHReWsy17F4HZUZo4RBHu/lvlQg7iN1JqEV4EBGrpC5PAKXQ=="></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-46796059-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>