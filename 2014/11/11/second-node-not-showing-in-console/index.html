<!doctype html><html lang=en><meta charset=utf-8><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/blog.casavian.eu\/"},"articleSection":"post","name":"Why the second node is not showing in the Console?","headline":"Why the second node is not showing in the Console?","description":"Notes and considerations of small venetian guy on DevOps tools, architecture, development and other paraphernalia.","inLanguage":"en","author":"Giulio Vian","creator":"Giulio Vian","publisher":"Giulio Vian","accountablePerson":"Giulio Vian","copyrightHolder":"Giulio Vian","copyrightYear":"2014","datePublished":"2014-11-11T00:00:00Z","dateModified":"2014-11-11T00:00:00Z","url":"\/2014\/11\/11\/second-node-not-showing-in-console\/","wordCount":"261","keywords":["TFS 2013","Gotchas","TFS Administration","Disaster Recovery","Blog"]}</script><title>Why the second node is not showing in the Console? &ndash; Giulio Vian's Blog!</title><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=description content="Notes and considerations of small venetian guy on DevOps tools, architecture, development and other paraphernalia."><meta name=author content="Giulio Vian"><link rel=icon href=/favicon.ico><meta itemprop=name content="Why the second node is not showing in the Console?"><meta itemprop=description content="A while ago, I was helping my US colleagues migrating their TFS to 2013. It was a serious work, as they moved from a TFS 2010 SP1 to 2013 Update 3.
They have everything in one Collection, which makes a Migration Upgrade &nbsp;  (or attach upgrade) feasible.
We designed a new infrastructure with Disaster Recovery in mind. In the old configuration they just mirrored the databases at the storage level, in the new one, SQL Always On manages the replica."><meta itemprop=datePublished content="2014-11-11T00:00:00+00:00"><meta itemprop=dateModified content="2014-11-11T00:00:00+00:00"><meta itemprop=wordCount content="261"><meta itemprop=image content="http://blog.casavian.eu/2014/11/11/second-node-not-showing-in-console/TFS-Disaster-Recovery-Architecture.png"><meta itemprop=keywords content="TFS 2013,Gotchas,TFS Administration,Disaster Recovery,"><meta property="og:title" content="Why the second node is not showing in the Console?"><meta property="og:description" content="A while ago, I was helping my US colleagues migrating their TFS to 2013. It was a serious work, as they moved from a TFS 2010 SP1 to 2013 Update 3.
They have everything in one Collection, which makes a Migration Upgrade &nbsp;  (or attach upgrade) feasible.
We designed a new infrastructure with Disaster Recovery in mind. In the old configuration they just mirrored the databases at the storage level, in the new one, SQL Always On manages the replica."><meta property="og:type" content="article"><meta property="og:url" content="http://blog.casavian.eu/2014/11/11/second-node-not-showing-in-console/"><meta property="og:image" content="http://blog.casavian.eu/2014/11/11/second-node-not-showing-in-console/TFS-Disaster-Recovery-Architecture.png"><meta property="article:published_time" content="2014-11-11T00:00:00+00:00"><meta property="article:modified_time" content="2014-11-11T00:00:00+00:00"><meta property="og:site_name" content="Giulio Vian's Blog!"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://blog.casavian.eu/2014/11/11/second-node-not-showing-in-console/TFS-Disaster-Recovery-Architecture.png"><meta name=twitter:title content="Why the second node is not showing in the Console?"><meta name=twitter:description content="A while ago, I was helping my US colleagues migrating their TFS to 2013. It was a serious work, as they moved from a TFS 2010 SP1 to 2013 Update 3.
They have everything in one Collection, which makes a Migration Upgrade &nbsp;  (or attach upgrade) feasible.
We designed a new infrastructure with Disaster Recovery in mind. In the old configuration they just mirrored the databases at the storage level, in the new one, SQL Always On manages the replica."><meta name=twitter:site content="@giulio_vian"><link rel=alternate href=/index.xml type=application/rss+xml title="Giulio Vian's Blog!"><link rel=stylesheet href=/css/vendor.min.95b0b4c4607aec507f0fc9d9c36a12a4613ccac06f9423caa43e265cb58eb5f90709388cc0fa166ac3ca836b4163e6d0569b8b86065d9cabdf223c5ea9a63b08.css integrity="sha512-lbC0xGB67FB/D8nZw2oSpGE8ysBvlCPKpD4mXLWOtfkHCTiMwPoWasPKg2tBY+bQVpuLhgZdnKvfIjxeqaY7CA=="><link href=http://blog.casavian.eu/css/cookieconsent.min.cd0d0b6e50ff01ff2f3a9a70d7cfb66a7c6cb9acf7a566325568be6d3bd31fc4.css rel=stylesheet type=text/css integrity="sha256-zQ0LblD/Af8vOppw18+2anxsuaz3pWYyVWi+bTvTH8Q=" crossorigin=anonymous><script src=http://blog.casavian.eu/js/cookieconsent.min.e55842a856a6d829feca3c3ad736c136b6c7549e9247274f78aa296259e06e24.js integrity="sha256-5VhCqFam2Cn+yjw61zbBNrbHVJ6SRydPeKopYlngbiQ=" crossorigin=anonymous async></script><script>window.addEventListener("load",function(){window.cookieconsent.initialise({"palette":{"popup":{"background":"#428bca","text":"#ffffff"},"button":{"background":"#f71559"}},"content":{"message":'This website uses cookies.',"dismiss":'Got it!',"link":'Learn more.',"href":"http:\/\/blog.casavian.eu\/page\/privacy-cookies-policy\/"},"position":"bottom-right"})});</script><body><nav class="navbar navbar-light bg-white navbar-expand-lg border-bottom"><div class=container><a class="navbar-brand text-primary" href=/>Giulio Vian's Blog!</a>
<button class="navbar-toggler collapsed" type=button data-toggle=collapse data-target=#navbarCollapse aria-controls=navbarCollapse aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="navbar-collapse collapse" id=navbarCollapse><ul class="navbar-nav mr-auto"><li class=nav-item><a class="nav-link text-primary" href=/index.html><i class="fas fa-home"></i>Home</a></li><li class=nav-item><a class="nav-link text-primary" href=/page/about/><i class="fa fa-info-circle"></i>About</a></li><li class=nav-item><a class="nav-link text-primary" href=/page/public-speaking><i class="fa fa-microphone"></i>Speaking</a></li></ul></div></div></nav><main role=main><div class="container mt-3 mb-3"><div class=card><img class=card-img-top src=/2014/11/11/second-node-not-showing-in-console/TFS-Disaster-Recovery-Architecture_hu900c6b25cc89619b0e2a2c56e5e32ca5_18276_1108x0_resize_box_2.png alt="Why the second node is not showing in the Console?" title="Why the second node is not showing in the Console?"><div class=card-body><h1 class=card-title><a href=/2014/11/11/second-node-not-showing-in-console/>Why the second node is not showing in the Console?</a></h1><h6 class="card-subtitle mb-2 text-muted"><i class="fas fa-calendar-day"></i>&nbsp;11 Nov 2014 -
<i class="fas fa-user"></i>&nbsp;Giulio Vian
- <i class="fas fa-clock"></i>&nbsp;~2 Minutes</h6><p class=card-text><p>A while ago, I was helping my US colleagues migrating their TFS to 2013. It was a serious work, as they moved from a TFS 2010 SP1 to 2013 Update 3.</p><p>They have everything in one Collection, which makes a <a href="http://msdn.microsoft.com/en-us/library/dd936138%28v=vs.120%29.aspx" target=_blank rel="noopener noreferrer">Migration Upgrade
&nbsp;<i class="fas fa-external-link-alt"></i></a> (or attach upgrade) feasible.</p><p>We designed a new infrastructure with Disaster Recovery in mind. In the old configuration they just mirrored the databases at the storage level, in the new one, SQL Always On manages the replica. For full DR, we planned a new node on the DR site, as illustrated in the diagram.</p><p><figure class=image-caption><a href=/2014/11/11/second-node-not-showing-in-console/TFS-Disaster-Recovery-Architecture.png><img loading=lazy height=420 width=740 style=max-width:100%;height:auto srcset="/2014/11/11/second-node-not-showing-in-console/TFS-Disaster-Recovery-Architecture_hu900c6b25cc89619b0e2a2c56e5e32ca5_18276_500x0_resize_box_2.png 500w, /2014/11/11/second-node-not-showing-in-console/TFS-Disaster-Recovery-Architecture.png 800w," src=/2014/11/11/second-node-not-showing-in-console/TFS-Disaster-Recovery-Architecture.png alt="TFS Disaster Recovery Architecture"></a><figcaption></figcaption></figure></p><p>To make a long story short, we setup the SQL, installed both Application Tiers, then on the primary node we configured TFS (URLs, mail, etc.), attached the Collection, waited for the Upgrade to complete.
Pop the Champagne! The Upgrade was successful! So started checking the new system accessing the main Collection and navigating all important TFS features. Then .. the bug.</p><div class="panel panel-danger"><div class=panel-heading><h3 class=panel-title>The Bug</h3></div><div class=panel-body>The second node was not showing in the TFS Administration Console.</div></div><p>Cool down. I never saw such thing, and we got no errors before. Think! The TFS Console knows about &ldquo;machine connected&rdquo;.</p><p><figure class=image-caption><a href=/2014/11/11/second-node-not-showing-in-console/2014-11-11_080956.png><img loading=lazy height=189 width=584 style=max-width:100%;height:auto srcset="/2014/11/11/second-node-not-showing-in-console/2014-11-11_080956_huf6cc113e0a5cff0c21341da86dd65def_4556_500x0_resize_box_2.png 500w, /2014/11/11/second-node-not-showing-in-console/2014-11-11_080956.png 800w," src=/2014/11/11/second-node-not-showing-in-console/2014-11-11_080956.png alt=WP_20140924_010></a><figcaption></figcaption></figure></p><p>This means that the Application Tiers &ldquo;records&rdquo; their presence in the Database, and must be something more than the machine begin up and services running.
Could be the records in <code>tbl_Command</code>? They are created by logging client request, so &mldr; make a request.
I tried a simple <code>http://localhost:8080/tfs</code> to display TFS Home Page, and <em>voil√†</em> the missing node magically appeared in TFS Administration Console.</p><p>Another day in the field&mldr;</p></p></div><div class=card-footer><small class=text-muted><i class="fas fa-folder text-primary"></i>&nbsp;
<a href=/categories/#alm class="badge badge-primary"><span>ALM</span></a><br><i class="fas fa-tags text-secondary"></i>&nbsp;
<a href=/tags/#tfs-2013 class="badge badge-secondary"><span>TFS 2013</span></a>
<a href=/tags/#gotchas class="badge badge-secondary"><span>Gotchas</span></a>
<a href=/tags/#tfs-administration class="badge badge-secondary"><span>TFS Administration</span></a>
<a href=/tags/#disaster-recovery class="badge badge-secondary"><span>Disaster Recovery</span></a></small></div></div></div></main><footer class="navbar-light border-top"><div class=container><div class=row><div class="col-12 col-md-3 mb-3"><h5>Giulio Vian's Blog!</h5>Notes and considerations of small venetian guy on DevOps tools, architecture, development and other paraphernalia.</div><div class="col-12 col-md-3 mb-3"><h5>Social</h5><ul class="list-unstyled list-inline"><li class=list-inline-item><a href=https://github.com/giuliov target=_blank rel="noopener noreferrer" title=GitHub class="fab fa-github fa-2x"></a></li><li class=list-inline-item><a href=https://stackoverflow.com/users/100864 target=_blank rel="noopener noreferrer" title="Stack Overflow" class="fab fa-stack-overflow fa-2x"></a></li><li class=list-inline-item><a href=https://medium.com/@giuliovdev target=_blank rel="noopener noreferrer" title=Medium class="fab fa-medium fa-2x"></a></li><li class=list-inline-item><a href=https://linkedin.com/in/giuliovian target=_blank rel="noopener noreferrer" title=LinkedIn class="fab fa-linkedin fa-2x"></a></li><li class=list-inline-item><a href=https://linkedin.com/company/unum-ireland-ltd-it target=_blank rel="noopener noreferrer" title="LinkedIn Company" class="fab fa-linkedin fa-2x"></a></li><li class=list-inline-item><a href=https://xing.com/profile/Giulio_Vian target=_blank rel="noopener noreferrer" title=Xing class="fab fa-xing fa-2x"></a></li><li class=list-inline-item><a href=https://slideshare.net/giuliov target=_blank rel="noopener noreferrer" title=SlideShare class="fab fa-slideshare fa-2x"></a></li><li class=list-inline-item><a href=https://youtube.com/UCZ-J6JRyvz6aaJ9zCN5wpxA target=_blank rel="noopener noreferrer" title=YouTube class="fab fa-youtube fa-2x"></a></li><li class=list-inline-item><a href=https://twitter.com/giulio_vian target=_blank rel="noopener noreferrer" title=Twitter class="fab fa-twitter fa-2x"></a></li><li class=list-inline-item><a href=mailto:giulio.dev@casavian.eu title=Email class="fas fa-envelope fa-2x"></a></li></ul></div><div class="col-12 col-md-3 mb-3"><h5>Site</h5><ul class=list-unstyled><li><a href=/about/><i class="fas fa-address-card"></i>About</a></li><li><a href=/categories/><i class="fas fa-folder"></i>Categories</a></li><li><a href=/series/><i class="fas fa-book"></i>Series</a></li><li><a href=/tags/><i class="fas fa-tags"></i>Tags</a></li></ul></div><div class="col-12 col-md-3 mb-3">&copy; 2020 Giulio Vian<br>Theme by <a href=https://www.spech.de target=_blank rel="noopener noreferrer">Sebastian Pech</a>.</div></div></div></footer><script src=/js/vendor.min.0497fa926ed3dc2241b91e016467480841da9749a0f7c40ed3960c3c238745e5accb5ec5e07654668e11047bbf96f95083b88dd49a845781011aba42e4f00a5d.js integrity="sha512-BJf6km7T3CJBuR4BZGdICEHal0mg98QO05YMPCOHReWsy17F4HZUZo4RBHu/lvlQg7iN1JqEV4EBGrpC5PAKXQ=="></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-46796059-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>